<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>libhcs: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libhcs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">libhcs Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>libhcs is a C library implementing a number of partially homormophic encryption schemes. Currently the following are implemented:</p>
<ul>
<li>Paillier</li>
<li>Damgard-Jurik</li>
<li>El-Gamal</li>
</ul>
<p>Focus is on the Paillier implementations, with proofs and the leading work being done on this. A simple C++ interface is also provided, however, it may lag behind the C interface, and is primarily for convenience in writing unit tests at this stage.</p>
<p>In particular, we focus on the Threshold Variant of the Paillier cryptosystem.</p>
<h2>Dependencies</h2>
<p>There is a dependency on the <a href="https://gmplib.org/">GMP</a> library. This also means that some familiarity with this library is required. A useful manual can be found on the website linked above.</p>
<p>The <a href="http://www.cmake.org/">CMake</a> build system is used to generate the required build files. CMake 2.8 or greater is currently required.</p>
<p>The <a href="https://github.com/philsquared/Catch">Catch</a> unit testing framework is used to test all functions. This however is packaged in this repository, so it is not required to obtain yourself.</p>
<p>To obtain the needed requirements on Ubuntu 15.10, one may run the following command: </p><pre class="fragment">sudo apt-get install libgmp-dev cmake
</pre><h2>Installation</h2>
<p>Assuming all dependencies are on your system, the following will work on a typical linux system. </p><pre class="fragment">git clone https://github.com/Tiehuis/libhcs.git
cmake .
make
sudo make install # Will install to /usr/local by default
</pre><p>To uninstall all installed files, one can run the following command: </p><pre class="fragment">sudo xargs rm &lt; install_manifest.txt
</pre><h2>Examples</h2>
<p>A trivial example demonstrating the API is as follows. See <code>examples</code> for more in-depth examples.</p>
<p>```c #include &lt;gmp.h&gt; // gmp is included implicitly #include &lt;libhcs.h&gt; // master header includes everything</p>
<p>int main(void) { // initialize data structures <a class="el" href="structpcs__public__key.html" title="Public key for use in the Paillier system. ">pcs_public_key</a> *pk = <a class="el" href="pcs_8h.html#a3035af644a94bda8ea01eb81a1781ba4" title="Initialise a pcs_public_key and return a pointer to the newly created structure. ">pcs_init_public_key()</a>; <a class="el" href="structpcs__private__key.html" title="Private key for use in the Paillier system. ">pcs_private_key</a> *vk = <a class="el" href="pcs_8h.html#af4d620d36edbd87870d9ee42ed4f907e" title="Initialise a pcs_private_key and return a pointer to the newly created structure. ...">pcs_init_private_key()</a>; <a class="el" href="structhcs__random.html" title="Random state used by a number of cryptographic functions. ">hcs_random</a> *hr = <a class="el" href="hcs__random_8h.html#a85704e254056a421f8dcbad86cca5040" title="Initialise an hcs_random and return a pointer to the newly created structure. ">hcs_init_random()</a>;</p>
<p>// Generate a key pair with modulus of size 2048 bits pcs_generate_key_pair(pk, vk, hr, 2048);</p>
<p>// libhcs works directly with gmp mpz_t types, so initialize some mpz_t a, b, c; mpz_inits(a, b, c, NULL);</p>
<p>mpz_set_ui(a, 50); mpz_set_ui(b, 76);</p>
<p>pcs_encrypt(pk, hr, a, a); // Encrypt a (= 50) and store back into a pcs_encrypt(pk, hr, b, b); // Encrypt b (= 76) and store back into b gmp_printf("a = %Zd\nb = %Zd\n", a, b); // can use all gmp functions still</p>
<p>pcs_ee_add(pk, c, a, b); // Add encrypted a and b values together into c pcs_decrypt(vk, c, c); // Decrypt c back into c using private key gmp_printf("%Zd\n", c); // output: c = 126</p>
<p>// Cleanup all data mpz_clears(a, b, c, NULL); pcs_free_public_key(pk); pcs_free_private_key(vk); hcs_free_random(hr);</p>
<p>return 0; } ```</p>
<p>To run this example, we need only need to link against libhcs and libgmp: </p><pre class="fragment">clang -o example example.c -lhcs -lgmp
./example
</pre><h2>Overview (Comments)</h2>
<h3>Repository contents</h3>
<p>Documentation can be generated using doxygen. The config file is found in <code>doc</code>. One can also read the header files found in <code>include</code> if doxygen is not installed on the system.</p>
<p>Some benchmarks can be found in <code>bench</code>. Currently, these test OpenMP support and do not do much else. In the future, these could be used to conditionally compile on certain systems, depending on the performance.</p>
<p>Header files and implementations are split between <code>include</code> and <code>src</code>. <code>src/com</code> stores all impelementation common to all cryptoschemes. Platform-specific code should be place here, also.</p>
<p>Some unit tests can be found in <code>test</code>. Each file here should be a self-contained file with its own main routine. These are compiled and can be run after building with the command: </p><pre class="fragment">make test
</pre><h3>Implementation details</h3>
<p>The Paillier and Damgard-Jurik implementations are derived from <em>A Generalization of Paillier's Public-Key System with Applications to Electronic Voting, Damgard, Jurik, Nielsen</em>.</p>
<p>Large safe prime generation is a current problem. It can be extremely slow for larger bits due to its random nature. Some algorithms have been proposed (see <em>Efficient Generation of Prime Numbers, Joye, Paillier</em>). This has been partially implemented over the naive scheme. Further reading regarding possible attacks on these algorithms should also be considered (see <em>On the Implementation of a Fast Prime Generation Algorithm, Clavier, Coron</em>).</p>
<h3>Future work (Improvements)</h3>
<ul>
<li>Getting this to work on other systems i.e. Windows would be useful. The main wall in this is getting GMP working first. CMake should make the rest simple, and the only platform-specific code (random state seeding) is mostly in place already.</li>
<li>Ensuring the code is cryptographically secure against attacks.</li>
<li>Further work done on other schemes. i.e (El-Gamal, Goldwasser-Micali)</li>
<li>More unit tests written to ensure the schemes themselves are correct</li>
<li>Profiling to determine particular performance improvements</li>
<li>More examples written which exemplify how to use libhcs</li>
<li>A command line tool which interfaces against this library would be invaluable in providing quick prototyping and proof of concept of ideas utilizing libhcs. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 29 2015 18:22:10 for libhcs by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
